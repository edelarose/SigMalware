using Common.Lib.dll.Presenters;
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.IO;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using SigMalware.Properties;

namespace SigMalware
{
    //implement IMainView interface
    public partial class FrmIntro : Form
    {
        //instantiate the Presenter
        TutorialPresenter _presenter;
        public FrmIntro()
        {
            InitializeComponent();
            _presenter = new TutorialPresenter();
        }
        private void FrmIntro_Load(object sender, EventArgs e)
        {
            //set window location
            if (Settings.Default.WindowLocation == null)
            {
                this.Location = Settings.Default.WindowLocation;
            }
            if(Settings.Default.WindowSize == null)
            {
                this.Size = Settings.Default.WindowSize;
            }
        }
        public void btnTutorial_Click(object sender, EventArgs e)
        {
            FrmTutorial1 formTutorial = new FrmTutorial1();
            //hide frmIntro
            this.Visible = false;
            formTutorial.ShowDialog();
            //close frmIntro
            this.Close();
        }
        private void btnScan_Click(object sender, EventArgs e)
        {
            FrmScan formScan = new FrmScan();
            this.Visible = false;
            formScan.ShowDialog();
            this.Close();
        }
        private void btnExit_Click(object sender, EventArgs e)
        {
            var saveProgress = MessageBox.Show("Save position in program for next time?", "Save progress", MessageBoxButtons.YesNo, MessageBoxIcon.Question);
            if (saveProgress == DialogResult.Yes)
            {
                Settings.Default.WindowLocation = this.Location;
                if (this.WindowState == FormWindowState.Normal)
                {
                    Settings.Default.WindowSize = this.Size;
                }
                else
                {
                    Settings.Default.WindowSize = this.RestoreBounds.Size;
                }
                Settings.Default.Save();
            }
            Application.Exit();
        }
        private void menuItemAbout_Click(object sender, EventArgs e)
        {
            FrmAbout formAbout = new FrmAbout();
            formAbout.ShowDialog();
        }
    }
}
